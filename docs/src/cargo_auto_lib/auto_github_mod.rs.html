<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.6.0">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="rustdoc">
  <meta name="description" content="Source of the Rust file `src/auto_github_mod.rs`.">
  <title>auto_github_mod.rs - source</title>
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2">
  <link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css">
  <link rel="stylesheet" href="../../static.files/rustdoc-ac92e1bbe349e143.css">
  <meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="cargo_auto_lib" data-themes=""
  data-resource-suffix="" data-rustdoc-version="1.76.0 (07dca489a 2024-02-04)" data-channel="1.76.0" data-search-js="search-2b6ce74ff89ae146.js"
  data-settings-js="settings-4313503d2e1961c2.js">
  <script src="../../static.files/storage-f2adc0d6ca4d09fb.js"></script>
  <script defer src="../../static.files/src-script-39ed315d46fb705f.js"></script>
  <script defer src="../../src-files.js"></script>
  <script defer src="../../static.files/main-305769736d49e732.js"></script><noscript>
  <link rel="stylesheet" href="../../static.files/noscript-feafe1bb7466e4bd.css"></noscript>
  <link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png">
  <link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png">
  <link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg">
</head>
<body class="rustdoc src">
  <!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]-->
  <nav class="sidebar"></nav>
  <div class="sidebar-resizer"></div>
  <main>
    <nav class="sub">
      <a class="sub-logo-container" href="../../cargo_auto_lib/index.html"><img src=
      "https://github.com/bestia-dev/cargo-auto/raw/main/images/logo/logo_cargo_auto.svg" alt="cargo_auto_lib"></a>
      <form class="search-form">
        <input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder=
        "Click or press ‘S’ to search, ‘?’ for more options…" type="search">
        <div id="help-button" tabindex="-1">
          <a href="../../help.html" title="help">?</a>
        </div>
        <div id="settings-menu" tabindex="-1">
          <a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src=
          "../../static.files/wheel-7b819b6101059cd0.svg"></a>
        </div>
      </form>
    </nav>
    <section id="main-content" class="content">
      <div class="example-wrap">
        <div data-nosnippet="">
          <pre class="src-line-numbers"><a href="#1" id="1">1</a>
<a href="#2" id="2">2</a>
<a href="#3" id="3">3</a>
<a href="#4" id="4">4</a>
<a href="#5" id="5">5</a>
<a href="#6" id="6">6</a>
<a href="#7" id="7">7</a>
<a href="#8" id="8">8</a>
<a href="#9" id="9">9</a>
<a href="#10" id="10">10</a>
<a href="#11" id="11">11</a>
<a href="#12" id="12">12</a>
<a href="#13" id="13">13</a>
<a href="#14" id="14">14</a>
<a href="#15" id="15">15</a>
<a href="#16" id="16">16</a>
<a href="#17" id="17">17</a>
<a href="#18" id="18">18</a>
<a href="#19" id="19">19</a>
<a href="#20" id="20">20</a>
<a href="#21" id="21">21</a>
<a href="#22" id="22">22</a>
<a href="#23" id="23">23</a>
<a href="#24" id="24">24</a>
<a href="#25" id="25">25</a>
<a href="#26" id="26">26</a>
<a href="#27" id="27">27</a>
<a href="#28" id="28">28</a>
<a href="#29" id="29">29</a>
<a href="#30" id="30">30</a>
<a href="#31" id="31">31</a>
<a href="#32" id="32">32</a>
<a href="#33" id="33">33</a>
<a href="#34" id="34">34</a>
<a href="#35" id="35">35</a>
<a href="#36" id="36">36</a>
<a href="#37" id="37">37</a>
<a href="#38" id="38">38</a>
<a href="#39" id="39">39</a>
<a href="#40" id="40">40</a>
<a href="#41" id="41">41</a>
<a href="#42" id="42">42</a>
<a href="#43" id="43">43</a>
<a href="#44" id="44">44</a>
<a href="#45" id="45">45</a>
<a href="#46" id="46">46</a>
<a href="#47" id="47">47</a>
<a href="#48" id="48">48</a>
<a href="#49" id="49">49</a>
<a href="#50" id="50">50</a>
<a href="#51" id="51">51</a>
<a href="#52" id="52">52</a>
<a href="#53" id="53">53</a>
<a href="#54" id="54">54</a>
<a href="#55" id="55">55</a>
<a href="#56" id="56">56</a>
<a href="#57" id="57">57</a>
<a href="#58" id="58">58</a>
<a href="#59" id="59">59</a>
<a href="#60" id="60">60</a>
<a href="#61" id="61">61</a>
<a href="#62" id="62">62</a>
<a href="#63" id="63">63</a>
<a href="#64" id="64">64</a>
<a href="#65" id="65">65</a>
<a href="#66" id="66">66</a>
<a href="#67" id="67">67</a>
<a href="#68" id="68">68</a>
<a href="#69" id="69">69</a>
<a href="#70" id="70">70</a>
<a href="#71" id="71">71</a>
<a href="#72" id="72">72</a>
<a href="#73" id="73">73</a>
<a href="#74" id="74">74</a>
<a href="#75" id="75">75</a>
<a href="#76" id="76">76</a>
<a href="#77" id="77">77</a>
<a href="#78" id="78">78</a>
<a href="#79" id="79">79</a>
<a href="#80" id="80">80</a>
<a href="#81" id="81">81</a>
<a href="#82" id="82">82</a>
<a href="#83" id="83">83</a>
<a href="#84" id="84">84</a>
<a href="#85" id="85">85</a>
<a href="#86" id="86">86</a>
<a href="#87" id="87">87</a>
<a href="#88" id="88">88</a>
<a href="#89" id="89">89</a>
<a href="#90" id="90">90</a>
<a href="#91" id="91">91</a>
<a href="#92" id="92">92</a>
<a href="#93" id="93">93</a>
<a href="#94" id="94">94</a>
<a href="#95" id="95">95</a>
<a href="#96" id="96">96</a>
<a href="#97" id="97">97</a>
<a href="#98" id="98">98</a>
<a href="#99" id="99">99</a>
<a href="#100" id="100">100</a>
<a href="#101" id="101">101</a>
<a href="#102" id="102">102</a>
<a href="#103" id="103">103</a>
<a href="#104" id="104">104</a>
<a href="#105" id="105">105</a>
<a href="#106" id="106">106</a>
<a href="#107" id="107">107</a>
<a href="#108" id="108">108</a>
<a href="#109" id="109">109</a>
<a href="#110" id="110">110</a>
<a href="#111" id="111">111</a>
<a href="#112" id="112">112</a>
<a href="#113" id="113">113</a>
<a href="#114" id="114">114</a>
<a href="#115" id="115">115</a>
<a href="#116" id="116">116</a>
<a href="#117" id="117">117</a>
<a href="#118" id="118">118</a>
<a href="#119" id="119">119</a>
<a href="#120" id="120">120</a>
<a href="#121" id="121">121</a>
<a href="#122" id="122">122</a>
<a href="#123" id="123">123</a>
<a href="#124" id="124">124</a>
<a href="#125" id="125">125</a>
<a href="#126" id="126">126</a>
<a href="#127" id="127">127</a>
<a href="#128" id="128">128</a>
<a href="#129" id="129">129</a>
<a href="#130" id="130">130</a>
<a href="#131" id="131">131</a>
<a href="#132" id="132">132</a>
<a href="#133" id="133">133</a>
<a href="#134" id="134">134</a>
<a href="#135" id="135">135</a>
<a href="#136" id="136">136</a>
<a href="#137" id="137">137</a>
<a href="#138" id="138">138</a>
<a href="#139" id="139">139</a>
<a href="#140" id="140">140</a>
<a href="#141" id="141">141</a>
<a href="#142" id="142">142</a>
<a href="#143" id="143">143</a>
<a href="#144" id="144">144</a>
<a href="#145" id="145">145</a>
<a href="#146" id="146">146</a>
<a href="#147" id="147">147</a>
<a href="#148" id="148">148</a>
<a href="#149" id="149">149</a>
<a href="#150" id="150">150</a>
<a href="#151" id="151">151</a>
<a href="#152" id="152">152</a>
<a href="#153" id="153">153</a>
<a href="#154" id="154">154</a>
<a href="#155" id="155">155</a>
<a href="#156" id="156">156</a>
<a href="#157" id="157">157</a>
<a href="#158" id="158">158</a>
<a href="#159" id="159">159</a>
<a href="#160" id="160">160</a>
<a href="#161" id="161">161</a>
<a href="#162" id="162">162</a>
<a href="#163" id="163">163</a>
<a href="#164" id="164">164</a>
<a href="#165" id="165">165</a>
<a href="#166" id="166">166</a>
<a href="#167" id="167">167</a>
<a href="#168" id="168">168</a>
<a href="#169" id="169">169</a>
<a href="#170" id="170">170</a>
<a href="#171" id="171">171</a>
<a href="#172" id="172">172</a>
<a href="#173" id="173">173</a>
<a href="#174" id="174">174</a>
<a href="#175" id="175">175</a>
<a href="#176" id="176">176</a>
<a href="#177" id="177">177</a>
<a href="#178" id="178">178</a>
<a href="#179" id="179">179</a>
<a href="#180" id="180">180</a>
<a href="#181" id="181">181</a>
<a href="#182" id="182">182</a>
<a href="#183" id="183">183</a>
<a href="#184" id="184">184</a>
<a href="#185" id="185">185</a>
<a href="#186" id="186">186</a>
<a href="#187" id="187">187</a>
<a href="#188" id="188">188</a>
<a href="#189" id="189">189</a>
<a href="#190" id="190">190</a>
<a href="#191" id="191">191</a>
<a href="#192" id="192">192</a>
<a href="#193" id="193">193</a>
<a href="#194" id="194">194</a>
<a href="#195" id="195">195</a>
<a href="#196" id="196">196</a>
<a href="#197" id="197">197</a>
<a href="#198" id="198">198</a>
<a href="#199" id="199">199</a>
<a href="#200" id="200">200</a>
<a href="#201" id="201">201</a>
<a href="#202" id="202">202</a>
<a href="#203" id="203">203</a>
<a href="#204" id="204">204</a>
<a href="#205" id="205">205</a>
<a href="#206" id="206">206</a>
<a href="#207" id="207">207</a>
<a href="#208" id="208">208</a>
<a href="#209" id="209">209</a>
<a href="#210" id="210">210</a>
<a href="#211" id="211">211</a>
<a href="#212" id="212">212</a>
<a href="#213" id="213">213</a>
<a href="#214" id="214">214</a>
<a href="#215" id="215">215</a>
<a href="#216" id="216">216</a>
<a href="#217" id="217">217</a>
<a href="#218" id="218">218</a>
<a href="#219" id="219">219</a>
<a href="#220" id="220">220</a>
<a href="#221" id="221">221</a>
<a href="#222" id="222">222</a>
<a href="#223" id="223">223</a>
<a href="#224" id="224">224</a>
<a href="#225" id="225">225</a>
<a href="#226" id="226">226</a>
<a href="#227" id="227">227</a>
<a href="#228" id="228">228</a>
<a href="#229" id="229">229</a>
<a href="#230" id="230">230</a>
<a href="#231" id="231">231</a>
<a href="#232" id="232">232</a>
<a href="#233" id="233">233</a>
<a href="#234" id="234">234</a>
<a href="#235" id="235">235</a>
<a href="#236" id="236">236</a>
<a href="#237" id="237">237</a>
<a href="#238" id="238">238</a>
<a href="#239" id="239">239</a>
<a href="#240" id="240">240</a>
<a href="#241" id="241">241</a>
<a href="#242" id="242">242</a>
<a href="#243" id="243">243</a>
<a href="#244" id="244">244</a>
<a href="#245" id="245">245</a>
<a href="#246" id="246">246</a>
<a href="#247" id="247">247</a>
<a href="#248" id="248">248</a>
<a href="#249" id="249">249</a>
<a href="#250" id="250">250</a>
<a href="#251" id="251">251</a>
<a href="#252" id="252">252</a>
<a href="#253" id="253">253</a>
<a href="#254" id="254">254</a>
<a href="#255" id="255">255</a>
<a href="#256" id="256">256</a>
<a href="#257" id="257">257</a>
<a href="#258" id="258">258</a>
<a href="#259" id="259">259</a>
<a href="#260" id="260">260</a>
<a href="#261" id="261">261</a>
<a href="#262" id="262">262</a>
<a href="#263" id="263">263</a>
<a href="#264" id="264">264</a>
<a href="#265" id="265">265</a>
<a href="#266" id="266">266</a>
<a href="#267" id="267">267</a>
<a href="#268" id="268">268</a>
<a href="#269" id="269">269</a>
<a href="#270" id="270">270</a>
<a href="#271" id="271">271</a>
<a href="#272" id="272">272</a>
<a href="#273" id="273">273</a>
<a href="#274" id="274">274</a>
<a href="#275" id="275">275</a>
<a href="#276" id="276">276</a>
<a href="#277" id="277">277</a>
<a href="#278" id="278">278</a>
<a href="#279" id="279">279</a>
<a href="#280" id="280">280</a>
<a href="#281" id="281">281</a>
<a href="#282" id="282">282</a>
<a href="#283" id="283">283</a>
<a href="#284" id="284">284</a>
<a href="#285" id="285">285</a>
<a href="#286" id="286">286</a>
<a href="#287" id="287">287</a>
<a href="#288" id="288">288</a>
<a href="#289" id="289">289</a>
<a href="#290" id="290">290</a>
<a href="#291" id="291">291</a>
<a href="#292" id="292">292</a>
<a href="#293" id="293">293</a>
<a href="#294" id="294">294</a>
<a href="#295" id="295">295</a>
<a href="#296" id="296">296</a>
<a href="#297" id="297">297</a>
<a href="#298" id="298">298</a>
<a href="#299" id="299">299</a>
<a href="#300" id="300">300</a>
<a href="#301" id="301">301</a>
<a href="#302" id="302">302</a>
<a href="#303" id="303">303</a>
<a href="#304" id="304">304</a>
<a href="#305" id="305">305</a>
<a href="#306" id="306">306</a>
<a href="#307" id="307">307</a>
<a href="#308" id="308">308</a>
<a href="#309" id="309">309</a>
<a href="#310" id="310">310</a>
<a href="#311" id="311">311</a>
<a href="#312" id="312">312</a>
<a href="#313" id="313">313</a>
<a href="#314" id="314">314</a>
<a href="#315" id="315">315</a>
<a href="#316" id="316">316</a>
<a href="#317" id="317">317</a>
<a href="#318" id="318">318</a>
<a href="#319" id="319">319</a>
<a href="#320" id="320">320</a>
<a href="#321" id="321">321</a>
<a href="#322" id="322">322</a>
<a href="#323" id="323">323</a>
<a href="#324" id="324">324</a>
<a href="#325" id="325">325</a>
<a href="#326" id="326">326</a>
<a href="#327" id="327">327</a>
<a href="#328" id="328">328</a>
<a href="#329" id="329">329</a>
<a href="#330" id="330">330</a>
<a href="#331" id="331">331</a>
<a href="#332" id="332">332</a>
<a href="#333" id="333">333</a>
<a href="#334" id="334">334</a>
<a href="#335" id="335">335</a>
<a href="#336" id="336">336</a>
<a href="#337" id="337">337</a>
<a href="#338" id="338">338</a>
<a href="#339" id="339">339</a>
<a href="#340" id="340">340</a>
<a href="#341" id="341">341</a>
<a href="#342" id="342">342</a>
<a href="#343" id="343">343</a>
<a href="#344" id="344">344</a>
<a href="#345" id="345">345</a>
<a href="#346" id="346">346</a>
<a href="#347" id="347">347</a>
<a href="#348" id="348">348</a>
<a href="#349" id="349">349</a>
<a href="#350" id="350">350</a>
<a href="#351" id="351">351</a>
<a href="#352" id="352">352</a>
<a href="#353" id="353">353</a>
<a href="#354" id="354">354</a>
<a href="#355" id="355">355</a>
<a href="#356" id="356">356</a>
<a href="#357" id="357">357</a>
<a href="#358" id="358">358</a>
<a href="#359" id="359">359</a>
<a href="#360" id="360">360</a>
<a href="#361" id="361">361</a>
<a href="#362" id="362">362</a>
<a href="#363" id="363">363</a>
<a href="#364" id="364">364</a>
<a href="#365" id="365">365</a>
<a href="#366" id="366">366</a>
<a href="#367" id="367">367</a>
<a href="#368" id="368">368</a>
<a href="#369" id="369">369</a>
<a href="#370" id="370">370</a>
<a href="#371" id="371">371</a>
<a href="#372" id="372">372</a>
<a href="#373" id="373">373</a>
<a href="#374" id="374">374</a>
<a href="#375" id="375">375</a>
<a href="#376" id="376">376</a>
<a href="#377" id="377">377</a>
<a href="#378" id="378">378</a>
<a href="#379" id="379">379</a>
<a href="#380" id="380">380</a>
<a href="#381" id="381">381</a>
<a href="#382" id="382">382</a>
<a href="#383" id="383">383</a>
<a href="#384" id="384">384</a>
<a href="#385" id="385">385</a>
<a href="#386" id="386">386</a>
<a href="#387" id="387">387</a>
<a href="#388" id="388">388</a>
<a href="#389" id="389">389</a>
<a href="#390" id="390">390</a>
<a href="#391" id="391">391</a>
<a href="#392" id="392">392</a>
<a href="#393" id="393">393</a>
<a href="#394" id="394">394</a>
<a href="#395" id="395">395</a>
<a href="#396" id="396">396</a>
<a href="#397" id="397">397</a>
<a href="#398" id="398">398</a>
<a href="#399" id="399">399</a>
<a href="#400" id="400">400</a>
<a href="#401" id="401">401</a>
<a href="#402" id="402">402</a>
<a href="#403" id="403">403</a>
<a href="#404" id="404">404</a>
<a href="#405" id="405">405</a>
<a href="#406" id="406">406</a>
<a href="#407" id="407">407</a>
<a href="#408" id="408">408</a>
<a href="#409" id="409">409</a>
<a href="#410" id="410">410</a>
<a href="#411" id="411">411</a>
<a href="#412" id="412">412</a>
<a href="#413" id="413">413</a>
<a href="#414" id="414">414</a>
<a href="#415" id="415">415</a>
<a href="#416" id="416">416</a>
<a href="#417" id="417">417</a>
<a href="#418" id="418">418</a>
<a href="#419" id="419">419</a>
<a href="#420" id="420">420</a>
<a href="#421" id="421">421</a>
<a href="#422" id="422">422</a>
<a href="#423" id="423">423</a>
<a href="#424" id="424">424</a>
<a href="#425" id="425">425</a>
<a href="#426" id="426">426</a>
<a href="#427" id="427">427</a>
<a href="#428" id="428">428</a>
<a href="#429" id="429">429</a>
<a href="#430" id="430">430</a>
<a href="#431" id="431">431</a>
<a href="#432" id="432">432</a>
<a href="#433" id="433">433</a>
<a href="#434" id="434">434</a>
<a href="#435" id="435">435</a>
<a href="#436" id="436">436</a>
<a href="#437" id="437">437</a>
<a href="#438" id="438">438</a>
<a href="#439" id="439">439</a>
<a href="#440" id="440">440</a>
<a href="#441" id="441">441</a>
<a href="#442" id="442">442</a>
<a href="#443" id="443">443</a>
<a href="#444" id="444">444</a>
<a href="#445" id="445">445</a>
<a href="#446" id="446">446</a>
<a href="#447" id="447">447</a>
<a href="#448" id="448">448</a>
<a href="#449" id="449">449</a>
<a href="#450" id="450">450</a>
<a href="#451" id="451">451</a>
<a href="#452" id="452">452</a>
<a href="#453" id="453">453</a>
<a href="#454" id="454">454</a>
<a href="#455" id="455">455</a>
<a href="#456" id="456">456</a>
<a href="#457" id="457">457</a>
<a href="#458" id="458">458</a>
<a href="#459" id="459">459</a>
<a href="#460" id="460">460</a>
<a href="#461" id="461">461</a>
<a href="#462" id="462">462</a>
<a href="#463" id="463">463</a>
<a href="#464" id="464">464</a>
<a href="#465" id="465">465</a>
<a href="#466" id="466">466</a>
<a href="#467" id="467">467</a>
<a href="#468" id="468">468</a>
<a href="#469" id="469">469</a>
<a href="#470" id="470">470</a>
<a href="#471" id="471">471</a>
<a href="#472" id="472">472</a>
<a href="#473" id="473">473</a>
<a href="#474" id="474">474</a>
<a href="#475" id="475">475</a>
<a href="#476" id="476">476</a>
<a href="#477" id="477">477</a>
<a href="#478" id="478">478</a>
<a href="#479" id="479">479</a>
<a href="#480" id="480">480</a>
<a href="#481" id="481">481</a>
<a href="#482" id="482">482</a>
<a href="#483" id="483">483</a>
<a href="#484" id="484">484</a>
<a href="#485" id="485">485</a>
<a href="#486" id="486">486</a>
<a href="#487" id="487">487</a>
<a href="#488" id="488">488</a>
<a href="#489" id="489">489</a>
<a href="#490" id="490">490</a>
<a href="#491" id="491">491</a>
<a href="#492" id="492">492</a>
<a href="#493" id="493">493</a>
<a href="#494" id="494">494</a>
<a href="#495" id="495">495</a>
<a href="#496" id="496">496</a>
<a href="#497" id="497">497</a>
<a href="#498" id="498">498</a>
<a href="#499" id="499">499</a>
<a href="#500" id="500">500</a>
<a href="#501" id="501">501</a>
<a href="#502" id="502">502</a>
<a href="#503" id="503">503</a>
<a href="#504" id="504">504</a>
<a href="#505" id="505">505</a>
<a href="#506" id="506">506</a>
<a href="#507" id="507">507</a>
<a href="#508" id="508">508</a>
<a href="#509" id="509">509</a>
<a href="#510" id="510">510</a>
<a href="#511" id="511">511</a>
<a href="#512" id="512">512</a>
<a href="#513" id="513">513</a>
<a href="#514" id="514">514</a>
<a href="#515" id="515">515</a>
<a href="#516" id="516">516</a>
<a href="#517" id="517">517</a>
<a href="#518" id="518">518</a>
<a href="#519" id="519">519</a>
<a href="#520" id="520">520</a>
<a href="#521" id="521">521</a>
<a href="#522" id="522">522</a>
<a href="#523" id="523">523</a>
<a href="#524" id="524">524</a>
<a href="#525" id="525">525</a>
<a href="#526" id="526">526</a>
<a href="#527" id="527">527</a>
<a href="#528" id="528">528</a>
<a href="#529" id="529">529</a>
<a href="#530" id="530">530</a>
</pre>
        </div>
        <pre class="rust"><code><span class="comment">// auto_github_mod

</span><span class="kw">use </span><span class="kw">crate</span>::CargoTomlPublicApiMethods;
<span class="kw">use </span><span class="kw">crate</span>::GREEN;
<span class="kw">use </span><span class="kw">crate</span>::RED;
<span class="kw">use </span><span class="kw">crate</span>::RESET;
<span class="kw">use </span><span class="kw">crate</span>::YELLOW;

<span class="kw">pub const </span>RELEASES_MD: <span class="kw-2">&</span>str = <span class="string">"RELEASES.md"</span>;

<span class="doccomment">/// create new release on Github  
/// return release_id  
/// it needs env variable `export GITHUB_TOKEN=paste_github_personal_authorization_token_here`  
/// &lt;https://docs.github.com/en/github/authenticating-to-github/keeping-your-account-and-data-secure/creating-a-personal-access-token&gt;  
/// ```ignore
///       let release_id =  github_create_new_release(&amp;owner, &amp;repo, &amp;version, &amp;name, branch, body_md_text);  
///       println!("release_id={release_id}");
///       upload_asset_to_github_release(&amp;owner, &amp;repo, &amp;release_id, &amp;path_to_file);  
///       println!("Asset uploaded.");    
/// ```
</span><span class="kw">pub fn </span>github_api_create_new_release(
    owner: <span class="kw-2">&</span>str,
    repo: <span class="kw-2">&</span>str,
    tag_name_version: <span class="kw-2">&</span>str,
    name: <span class="kw-2">&</span>str,
    branch: <span class="kw-2">&</span>str,
    body_md_text: <span class="kw-2">&</span>str,
) -&gt; String {
    <span class="comment">/*
    https://docs.github.com/en/rest/releases/releases?apiVersion=2022-11-28#create-a-release
    Request like :
    curl -L \
    -X POST \
    -H "Accept: application/vnd.github+json" \
    -H "Authorization: Bearer &lt;YOUR-TOKEN&gt;"\
    -H "X-GitHub-Api-Version: 2022-11-28" \
    https://api.github.com/repos/OWNER/REPO/releases \
    -d '
    {
        "tag_name":"v1.0.0",
        "target_commitish":"master",
        "name":"v1.0.0",
        "body":"Description of the release",
        "draft":false,
        "prerelease":false,
        "generate_release_notes":false
    }'

    Response (short)
    {
    "id": 1,
    ...
    }
    */
    </span>check_or_get_github_token().unwrap();
    <span class="kw">let </span>token = std::env::var(<span class="string">"GITHUB_TOKEN"</span>).expect(<span class=
"string">"GITHUB_TOKEN env variable is required"</span>);
    <span class="kw">let </span>releases_url = <span class="macro">format!</span>(<span class=
"string">"https://api.github.com/repos/{owner}/{repo}/releases"</span>);
    <span class="kw">let </span>body = <span class="macro">serde_json::json!</span>({
        <span class="string">"tag_name"</span>: tag_name_version,
        <span class="string">"target_commitish"</span>:branch,
        <span class="string">"name"</span>:name,
        <span class="string">"body"</span>:body_md_text,
        <span class="string">"draft"</span>:<span class="bool-val">false</span>,
        <span class="string">"prerelease"</span>:<span class="bool-val">false</span>,
        <span class="string">"generate_release_notes"</span>:<span class="bool-val">false</span>,
    });
    <span class="kw">let </span>body = body.to_string();
    <span class="comment">//dbg!(&amp;body);

    </span><span class="kw">let </span>response_text = reqwest::blocking::Client::new()
        .post(releases_url.as_str())
        .header(<span class="string">"Content-Type"</span>, <span class="string">"application/vnd.github+json"</span>)
        .header(<span class="string">"Authorization"</span>, <span class="macro">format!</span>(<span class="string">"Bearer {token}"</span>))
        .header(<span class="string">"X-GitHub-Api-Version"</span>, <span class="string">"2022-11-28"</span>)
        .header(<span class="string">"User-Agent"</span>, <span class="string">"cargo_auto_lib"</span>)
        .body(body)
        .send()
        .unwrap()
        .text()
        .unwrap();
    <span class="comment">//dbg!(&amp;response_text);

    </span><span class="kw">let </span>parsed: serde_json::Value = serde_json::from_str(<span class="kw-2">&</span>response_text).unwrap();
    <span class="kw">let </span>new_release_id = parsed.get(<span class="string">"id"</span>).unwrap().as_i64().unwrap().to_string();
    <span class="comment">//dbg!(&amp;new_release_id);
    </span>new_release_id
}

<span class="doccomment">/// upload asset to github release  
/// release_upload_url example: &lt;https://uploads.github.com/repos/owner/repo/releases/48127727/assets&gt;  
/// it needs env variable `export GITHUB_TOKEN=paste_github_personal_authorization_token_here`  
/// &lt;https://docs.github.com/en/github/authenticating-to-github/keeping-your-account-and-data-secure/creating-a-personal-access-token&gt;  
/// async function can be called from sync code:  
/// ```ignore
///       let release_id =  github_create_new_release(&amp;owner, &amp;repo, &amp;version, &amp;name, branch, body_md_text);  
///       println!("release_id={release_id}");
///       upload_asset_to_github_release(&amp;owner, &amp;repo, &amp;release_id, &amp;path_to_file);  
///       println!("Asset uploaded.");  
/// ```
</span><span class="kw">pub fn </span>github_api_upload_asset_to_release(
    owner: <span class="kw-2">&</span>str,
    repo: <span class="kw-2">&</span>str,
    release_id: <span class="kw-2">&</span>str,
    path_to_file: <span class="kw-2">&</span>str,
) {
    check_or_get_github_token().unwrap();
    <span class="kw">let </span>token = std::env::var(<span class="string">"GITHUB_TOKEN"</span>).expect(<span class=
"string">"GITHUB_TOKEN env variable is required"</span>);

    <span class="macro">println!</span>(<span class="string">"path_to_file: {}"</span>, path_to_file);
    <span class="kw">let </span>file = std::path::Path::new(<span class="kw-2">&</span>path_to_file);
    <span class="kw">let </span>file_name = file.file_name().unwrap().to_str().unwrap();

    <span class="kw">let </span>release_upload_url =
        <span class="macro">format!</span>(<span class="string">"https://uploads.github.com/repos/{owner}/{repo}/releases/{release_id}/assets"</span>);
    <span class="kw">let </span><span class="kw-2">mut </span>release_upload_url =
        &lt;url::Url <span class="kw">as </span>std::str::FromStr&gt;::from_str(<span class="kw-2">&</span>release_upload_url).unwrap();
    release_upload_url.set_query(<span class="prelude-val">Some</span>(<span class="macro">format!</span>(<span class="string">"{}={}"</span>, <span class=
"string">"name"</span>, file_name).as_str()));
    <span class="macro">println!</span>(<span class="string">"upload_url: {}"</span>, release_upload_url);
    <span class="kw">let </span>file_size = std::fs::metadata(file).unwrap().len();
    <span class="macro">println!</span>(
        <span class="string">"file_size: {}. It can take some time to upload. Wait..."</span>,
        file_size
    );
    <span class="comment">// region: async code made sync locally
    </span><span class="kw">use </span>tokio::runtime::Runtime;
    <span class="kw">let </span>rt = Runtime::new().unwrap();
    rt.block_on(<span class="kw">async move </span>{
        <span class="kw">let </span>file = tokio::fs::File::open(file).<span class="kw">await</span>.unwrap();
        <span class="kw">let </span>stream = tokio_util::codec::FramedRead::new(file, tokio_util::codec::BytesCodec::new());
        <span class="kw">let </span>body = reqwest::Body::wrap_stream(stream);

        <span class="kw">let </span>_response = reqwest::Client::new()
            .post(release_upload_url.as_str())
            .header(<span class="string">"Content-Type"</span>, <span class="string">"application/octet-stream"</span>)
            .header(<span class="string">"Content-Length"</span>, file_size.to_string())
            .header(<span class="string">"Authorization"</span>, <span class="macro">format!</span>(<span class="string">"Bearer {token}"</span>))
            .body(body)
            .send()
            .<span class="kw">await
            </span>.unwrap();

        <span class="comment">// dbg!(response);
    </span>});
    <span class="comment">// endregion: async code made sync locally
</span>}

<span class="doccomment">/// creates a new github repository
</span><span class="kw">pub fn </span>github_api_repository_new(owner: <span class="kw-2">&</span>str, name: <span class=
"kw-2">&</span>str, description: <span class="kw-2">&</span>str) -&gt; serde_json::Value {
    <span class="comment">/*
    https://docs.github.com/en/rest/repos/repos?apiVersion=2022-11-28#create-a-repository-for-the-authenticated-user

    Request like :
    curl -L \
    -X POST \
    -H "Accept: application/vnd.github+json" \
    -H "Authorization: Bearer &lt;YOUR-TOKEN&gt;" \
    -H "X-GitHub-Api-Version: 2022-11-28" \
    https://api.github.com/user/repos \
    -d '{
        "name":"Hello-World",
        "description":"This is your first repo!",
        "homepage":"https://github.com",
        "private":false,
        "is_template":true
    }'

    Response (short)
    {
    "id": 1296269,
    ...
    }
    */
    </span>check_or_get_github_token().unwrap();
    <span class="kw">let </span>token = std::env::var(<span class="string">"GITHUB_TOKEN"</span>).expect(<span class=
"string">"GITHUB_TOKEN env variable is required"</span>);
    <span class="kw">let </span>repos_url = <span class="macro">format!</span>(<span class="string">"https://api.github.com/user/repos"</span>);
    <span class="kw">let </span>body = <span class="macro">serde_json::json!</span>({
        <span class="string">"name"</span>: name,
        <span class="string">"description"</span>: description,
        <span class="string">"homepage"</span>: <span class="macro">format!</span>(<span class="string">"https://{owner}.github.io/{name}"</span>),
        <span class="string">"private"</span>:<span class="bool-val">false</span>,
        <span class="string">"has_issues"</span>:<span class="bool-val">true</span>,
        <span class="string">"has_projects"</span>:<span class="bool-val">false</span>,
        <span class="string">"has_wiki"</span>:<span class="bool-val">false</span>,
        <span class="comment">// more settings...
        </span><span class="string">"has_discussions" </span>:<span class="bool-val">true
    </span>});
    <span class="comment">// Sadly there is no way in the API to set the settings: releases, packages and deployments
    // APIs are very hard to change, so I expect it wil never change. Discussion (or lacking of):
    // https://github.com/orgs/community/discussions/39800
    // Add API ability to toggle releases/packages/environments from homepage of repo
    // Maybe the solution is to use a template for creating the repository???
    </span><span class="kw">let </span>body = body.to_string();

    <span class="kw">let </span>response_text = reqwest::blocking::Client::new()
        .post(repos_url.as_str())
        .header(<span class="string">"Accept"</span>, <span class="string">"application/vnd.github+json"</span>)
        .header(<span class="string">"Authorization"</span>, <span class="macro">format!</span>(<span class="string">"Bearer {token}"</span>))
        .header(<span class="string">"X-GitHub-Api-Version"</span>, <span class="string">"2022-11-28"</span>)
        .header(<span class="string">"User-Agent"</span>, <span class="string">"cargo_auto_lib"</span>)
        .body(body)
        .send()
        .unwrap()
        .text()
        .unwrap();
    <span class="comment">//pretty_dbg!(&amp;response_text);

    </span><span class="kw">let </span>parsed: serde_json::Value = serde_json::from_str(<span class="kw-2">&</span>response_text).unwrap();
    <span class="comment">// return
    </span>parsed
}

<span class="doccomment">/// init repository if needed. A new local git repository and remote GitHub repository.
</span><span class="kw">pub fn </span>init_repository_if_needed(message: <span class="kw-2">&</span>str) -&gt; bool {
    <span class="comment">// Find the filename of the identity_file for ssh connection to host_name, to find out if need ssh-add or not.
    // parse the ~/.ssh/config. 99% probably there should be a record for host_name and there is the identity_file.
    // else ask user for filename, then run ssh-add
    </span>ssh_add_resolve(<span class="string">"github.com"</span>, <span class="string">"githubssh1"</span>);

    <span class="comment">// crate new local git repository
    </span><span class="kw">if </span>!<span class="kw">crate</span>::git_is_local_repository() {
        new_local_repository(message).unwrap();
    }

    <span class="kw">let </span><span class="kw-2">mut </span>is_init_repository = <span class="bool-val">false</span>;
    <span class="comment">// create new remote GitHub repository
    </span><span class="kw">if </span>!<span class="kw">crate</span>::git_has_remote() {
        <span class="kw">let </span>repo_html_url = new_remote_github_repository().unwrap();
        is_init_repository = <span class="bool-val">true</span>;
        <span class="macro">println!</span>(
            <span class="string">r#"
    {YELLOW}You have successfully created a new local repository and remote GitHub repository.{RESET}
    {YELLOW}Open the browser on the GitHub repo:{RESET}
{GREEN}{repo_html_url}{RESET}
    {YELLOW}Now continue coding happily and then{RESET}
{GREEN}cargo auto build{RESET}
"#
        </span>);
    }
    <span class="comment">// return
    </span>is_init_repository
}

<span class="doccomment">/// Find the filename of the identity_file for ssh connection to host_name, to find out if need ssh-add or not.
/// parse the ~/.ssh/config. 99% probably there should be a record for host_name and there is the identity_file.
/// else ask user for filename, then run ssh-add
</span><span class="kw">pub fn </span>ssh_add_resolve(host_name: <span class="kw-2">&</span>str, default_host_name: <span class="kw-2">&</span>str) {
    <span class="comment">// I must find the filename of the identity_file for ssh connection to host_name,
    // to find out if I need ssh-add or not.
    // 1. parse the ~/.ssh/config. 99% probably there should be a record for github and there is the identity_file.
    </span><span class="kw">let </span><span class="kw-2">mut </span>identity_from_ssh_config = get_identity_from_ssh_config(host_name);

    <span class="comment">// 2. if not found in ssh/config then ask the user to provide the filename
    </span><span class="kw">if </span>identity_from_ssh_config.is_empty() {
        <span class="kw">if let </span><span class="prelude-val">Some</span>(filename) = ask_for_identity_file_for_ssh(host_name, default_host_name) {
            identity_from_ssh_config = filename.to_string_lossy().to_string();
        }
    }
    <span class="comment">// ssh-add only if needed
    </span><span class="kw">if </span>!identity_from_ssh_config.is_empty() {
        ssh_add_if_needed(identity_from_ssh_config).unwrap();
    }
}

<span class="doccomment">/// interactive ask to create a new remote GitHub repository
</span><span class="kw">pub fn </span>new_remote_github_repository() -&gt; <span class="prelude-ty">Option</span>&lt;String&gt; {
    <span class="comment">// ask interactive
    </span><span class="macro">println!</span>(<span class="string">"{YELLOW}This project does not have a remote GitHub repository.{RESET}"</span>);
    <span class="kw">let </span>answer = inquire::Text::new(<span class="string">"Do you want to create a new remote GitHub repository? (y/n)"</span>)
        .prompt()
        .unwrap();
    <span class="kw">if </span>answer.to_lowercase() != <span class="string">"y" </span>{
        <span class="comment">// early exit
        </span><span class="kw">return </span><span class="prelude-val">None</span>;
    }
    <span class="comment">// continue if answer is "y"

    </span><span class="kw">let </span>cargo_toml = <span class="kw">crate</span>::CargoToml::read();
    <span class="kw">let </span>name = cargo_toml.package_name();
    <span class="kw">let </span>owner = cargo_toml.github_owner().unwrap();
    <span class="kw">let </span>description = cargo_toml.package_description().unwrap();
    <span class="kw">let </span>json: serde_json::Value =
        <span class="kw">crate</span>::auto_github_mod::github_api_repository_new(<span class="kw-2">&</span>owner, <span class=
"kw-2">&</span>name, <span class="kw-2">&</span>description);
    <span class="comment">// get just the name, description and html_url from json
    </span><span class="macro">println!</span>(<span class="string">"name: {}"</span>, json.get(<span class=
"string">"name"</span>).unwrap().as_str().unwrap());
    <span class="macro">println!</span>(
        <span class="string">"description: {}"</span>,
        json.get(<span class="string">"description"</span>).unwrap().as_str().unwrap()
    );
    <span class="kw">let </span>repo_html_url = json.get(<span class="string">"html_url"</span>).unwrap().as_str().unwrap().to_string();
    <span class="macro">println!</span>(<span class="string">"url: {}"</span>, <span class="kw-2">&</span>repo_html_url);

    <span class="comment">// add this GitHub repository to origin remote over SSH (use sshadd for passcode)
    </span><span class="kw">crate</span>::run_shell_command(<span class="kw-2">&</span><span class="macro">format!</span>(
        <span class="string">"git remote add origin git@github.com:{owner}/{name}.git"
    </span>));
    <span class="kw">crate</span>::run_shell_command(<span class="string">"git push -u origin main"</span>);
    <span class="prelude-val">Some</span>(repo_html_url)
}

<span class="doccomment">/// check if the env var GITHUB_TOKEN exist
/// or ask user interactively to type it
</span><span class="kw">fn </span>check_or_get_github_token() -&gt; <span class="prelude-ty">Option</span>&lt;()&gt; {
    <span class="comment">// read ENV variable GITHUB_TOKEN
    // if it does not exist, ask for it here.
    </span><span class="kw">match </span>std::env::var(<span class="string">"GITHUB_TOKEN"</span>) {
        <span class="prelude-val">Ok</span>(_g) =&gt; <span class="prelude-val">Some</span>(()),
        <span class="prelude-val">Err</span>(_err) =&gt; {
            <span class="macro">println!</span>(
                <span class="string">r#"{RED}Cannot find the GITHUB_TOKEN env variable.{RESET}
GITHUB_TOKEN env variable is required to work with GitHub API to create a new repository.
You can generate the token at https://github.com/settings/tokens.
It needs the permission scope: Full control of private repositories.
The token is a secret just like a password, use it with caution.
"#
            </span>);
            <span class="kw">let </span>answer = inquire::Password::new(<span class="string">"Enter the GitHub token:"</span>)
                .without_confirmation()
                .prompt()
                .unwrap();
            <span class="kw">if </span>answer.is_empty() {
                <span class="comment">// early exit
                </span><span class="macro">eprintln!</span>(<span class="string">"{RED}The GITHUB_TOKEN was not given. Exiting.{RESET}"</span>);
                <span class="kw">return </span><span class="prelude-val">None</span>;
            }
            <span class="comment">// set the env var for the token, but just for this process
            // The parent process will still be without this env var.
            </span>std::env::set_var(<span class="string">"GITHUB_TOKEN"</span>, answer);
            <span class="prelude-val">Some</span>(())
        }
    }
}

<span class="doccomment">/// interactive ask to create a new local git repository
</span><span class="kw">pub fn </span>new_local_repository(message: <span class="kw-2">&</span>str) -&gt; <span class="prelude-ty">Option</span>&lt;()&gt; {
    <span class="comment">// ask interactive
    </span><span class="macro">println!</span>(<span class="string">"{YELLOW}This project is not yet a Git repository.{RESET}"</span>);
    <span class="kw">let </span>answer = inquire::Text::new(<span class="string">"Do you want to initialize a new local git repository? (y/n)"</span>)
        .prompt()
        .unwrap();
    <span class="comment">// continue if answer is "y"
    </span><span class="kw">if </span>answer.to_lowercase() != <span class="string">"y" </span>{
        <span class="comment">// early exit
        </span><span class="kw">return </span><span class="prelude-val">None</span>;
    }
    <span class="comment">// create new local git repository and commit all on branch main
    </span><span class="kw">crate</span>::run_shell_command(<span class="string">"git config --global init.defaultBranch main"</span>);
    <span class="kw">crate</span>::run_shell_command(<span class="string">"git init"</span>);
    <span class="kw">crate</span>::run_shell_command(<span class="string">"git add ."</span>);
    <span class="kw">crate</span>::run_shell_command(<span class="kw-2">&</span><span class="macro">format!</span>(<span class=
"string">r#"git commit -m "{message}""#</span>));
    <span class="kw">crate</span>::run_shell_command(<span class="string">"git branch -M main"</span>);
    <span class="prelude-val">Some</span>(())
}

<span class="doccomment">/// check if this file is in ssh-add. Only the first 56 ascii characters are the fingerprint.
/// After is a description, not important and sometimes different.
/// if is not, then ssh-add and the user will enter the passcode.
</span><span class="kw">pub fn </span>ssh_add_if_needed(github_ssh_for_push: String) -&gt; <span class="prelude-ty">Option</span>&lt;()&gt; {
    <span class="macro">println!</span>(<span class="string">"Get a list of fingerprints already in ssh-add."</span>);
    <span class="kw">let </span>ssh_added = <span class="kw">crate</span>::run_shell_command_output(<span class="string">"ssh-add -l"</span>).stdout;

    <span class="macro">println!</span>(
        <span class="string">"Calculate the fingerprint of the identity file to check if it is already in ssh-add."
    </span>);
    <span class="kw">let </span>fingerprint =
        <span class="kw">crate</span>::run_shell_command_output(<span class="kw-2">&</span><span class="macro">format!</span>(<span class=
"string">"ssh-keygen -lf {}"</span>, <span class="kw-2">&</span>github_ssh_for_push)).stdout
            [<span class="number">0</span>..<span class="number">55</span>]
            .to_string();

    <span class="comment">// ssh-add if it is not contained in the ssh-agent
    </span><span class="kw">if </span>!ssh_added.contains(<span class="kw-2">&</span>fingerprint) {
        <span class="macro">println!</span>(<span class="string">"{YELLOW}Add ssh identity with ssh-add to use with GitHub push.{RESET}"</span>);
        <span class="kw">let </span>cmd = <span class="macro">format!</span>(<span class="string">"ssh-add -h github.com {}"</span>, github_ssh_for_push);
        <span class="kw">let </span>shell_output = <span class="kw">crate</span>::run_shell_command_output(<span class="kw-2">&</span>cmd);
        <span class="kw">if </span>!shell_output.stderr.contains(<span class="string">"Identity added"</span>) {
            <span class="macro">eprintln!</span>(<span class="string">"{RED}ssh-add was not successful! Exiting.{RESET}"</span>,);
            <span class="comment">// early exit
            </span><span class="kw">return </span><span class="prelude-val">None</span>;
        } <span class="kw">else </span>{
            <span class="macro">println!</span>(<span class="string">"{}"</span>, shell_output.stdout);
        }
    } <span class="kw">else </span>{
        <span class="macro">println!</span>(<span class="string">"Key for GitHub push is already in ssh-add."</span>);
    }
    <span class="prelude-val">Some</span>(())
}

<span class="doccomment">/// parse the ~/.ssh/config. 99% probably there should be a record for github and there is the identity_file.
</span><span class="kw">pub fn </span>get_identity_from_ssh_config(host_name: <span class="kw-2">&</span>str) -&gt; String {
    <span class="kw">let </span><span class="kw-2">mut </span>identity_for_ssh = String::new();
    <span class="kw">if let </span><span class="prelude-val">Ok</span>(config) = ssh2_config::SshConfig::parse_default_file(ssh2_config::ParseRule::STRICT) {
        <span class="comment">// find the filename
        </span><span class="kw">for </span>x <span class="kw">in </span>config.get_hosts().iter() {
            <span class="kw">if let </span><span class="prelude-val">Some</span>(x_host_name) = x.params.host_name.as_ref() {
                <span class="kw">if </span>x_host_name == host_name {
                    <span class="kw">if let </span><span class="prelude-val">Some</span>(identity_files) = x.params.identity_file.as_ref() {
                        <span class="kw">if </span>!identity_files.is_empty() {
                            <span class="comment">// there can be more identity_files, but I will use only the first
                            </span>identity_for_ssh = identity_files[<span class="number">0</span>].to_string_lossy().to_string();
                        }
                    }
                    <span class="kw">break</span>;
                }
            }
        }
        <span class="kw">if </span>!identity_for_ssh.is_empty() {
            <span class="macro">println!</span>(<span class="string">"identity_for_ssh is {identity_for_ssh}"</span>);
        }
    }
    identity_for_ssh
}

<span class="doccomment">/// Ask the user for the filename of the ssh key used to connect with SSH/git to a server.
/// host_name is like: github.com or bestia.dev, default like githubssh1 and webserverssh1
</span><span class="kw">pub fn </span>ask_for_identity_file_for_ssh(
    host_name: <span class="kw-2">&</span>str,
    default_host_name: <span class="kw-2">&</span>str,
) -&gt; <span class="prelude-ty">Option</span>&lt;std::path::PathBuf&gt; {
    <span class="macro">println!</span>(
        <span class="string">r#"{RED}Cannot find identity in ~/.ssh/config.{RESET}
It should contain the filename of the ssh key used to push to {host_name}.
The filename itself is not a secret. Just the content of the file is a secret.
Without this filename I cannot check if it is ssh-added to the ssh-agent.
If you create the file ~/.ssh/config with content like this: 
&lt;https://github.com/bestia-dev/docker_rust_development/raw/main/docker_rust_development_install/ssh_config_template&gt;
You will not be asked to enter this filename manually every time.
"#</span>,
    );
    <span class="kw">let </span>identity_file_for_ssh = inquire::Text::new(<span class="kw-2">&</span><span class="macro">format!</span>(
        <span class="string">"Which file in the .ssh folder has the ssh identity for {host_name}?"
    </span>))
    .with_initial_value(default_host_name)
    .prompt()
    .unwrap();
    <span class="kw">if </span>identity_file_for_ssh.is_empty() {
        <span class="comment">// early exit
        </span><span class="macro">eprintln!</span>(<span class="string">"{RED}The filename for the ssh key was not given. Exiting.{RESET}"</span>);
        <span class="kw">return </span><span class="prelude-val">None</span>;
    }

    <span class="comment">// check if the file exists
    </span><span class="kw">let </span>identity_file_for_ssh = <span class="kw">crate</span>::home_dir().join(<span class=
"string">".ssh"</span>).join(identity_file_for_ssh);
    <span class="kw">if </span>!identity_file_for_ssh.exists() {
        <span class="macro">eprintln!</span>(
            <span class="string">"{RED}File {} does not exist! Exiting.{RESET}"</span>,
            identity_file_for_ssh.to_string_lossy()
        );
        <span class="comment">// early exit
        </span><span class="kw">return </span><span class="prelude-val">None</span>;
    }
    <span class="comment">// return
    </span><span class="prelude-val">Some</span>(identity_file_for_ssh)
}

<span class="doccomment">/// sync, check, create, push git tag
</span><span class="kw">pub fn </span>git_tag_sync_check_create_push(version: <span class="kw-2">&</span>str) -&gt; String {
    <span class="comment">// sync the local and remote tags
    </span><span class="kw">crate</span>::run_shell_command(<span class="string">"git fetch origin --tags --force"</span>);

    <span class="kw">let </span>tags = <span class="kw">crate</span>::run_shell_command_output(<span class="string">"git tag"</span>).stdout;
    <span class="kw">let </span>tag_name_version = <span class="macro">format!</span>(<span class="string">"v{}"</span>, <span class="kw-2">&</span>version);
    <span class="kw">if </span>!tags.contains(<span class="kw-2">&</span><span class="macro">format!</span>(<span class=
"string">"{}\n"</span>, tag_name_version)) {
        <span class="comment">// create git tag and push
        </span><span class="kw">let </span>shell_command = <span class="macro">format!</span>(<span class=
"string">"git tag -f -a {tag_name_version} -m version_{version}"</span>);
        <span class="kw">crate</span>::run_shell_command(<span class="kw-2">&</span>shell_command);
        <span class="kw">crate</span>::run_shell_command(<span class="string">"git push origin --tags"</span>);
    }
    <span class="comment">// return
    </span>tag_name_version
}

<span class="doccomment">/// First, the user must write the content into file RELEASES.md in the section ## Unreleased.
/// Then the automation task will copy the content to GitHub release
/// and create a new Version title in RELEASES.md.
</span><span class="kw">pub fn </span>body_text_from_releases_md(release_name: <span class="kw-2">&</span>str) -&gt; <span class=
"prelude-ty">Option</span>&lt;String&gt; {
    <span class="kw">if </span>!std::path::Path::new(RELEASES_MD).exists() {
        <span class="comment">// create the template file
        </span><span class="kw">let </span>cargo_toml = <span class="kw">crate</span>::CargoToml::read();
        <span class="kw">let </span>project_name = cargo_toml.package_name();
        <span class="kw">let </span>github_owner = cargo_toml.github_owner().unwrap();
        <span class="kw">let </span>template = <span class="macro">format!</span>(
            <span class="string">r#"# Releases changelog of {project_name}

All notable changes to this project will be documented in this file.  
This project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).  
The library releases will be published on crates.io.  
The cargo-auto automation task will use the content of the section `## Unreleased` to create
the GitHub release consistently with this file.  
The ongoing changes that are not released, are visible in the git commits and github pull requests.  
The TODO section is part of the [README.md](https://github.com/{github_owner}/{project_name}).  

## Unreleased

## Version 0.0.1

"#
        </span>);
        std::fs::write(RELEASES_MD, template).unwrap();
    }

    <span class="kw">let </span>release_md = std::fs::read_to_string(RELEASES_MD).unwrap();
    <span class="comment">// find the start of ## Unreleased
    </span><span class="kw">let </span><span class="prelude-val">Some</span>(pos_start_data) =
        <span class="kw">crate</span>::find_pos_start_data_after_delimiter(<span class="kw-2">&</span>release_md, <span class="number">0</span>, <span class=
"string">"## Unreleased\n"</span>)
    <span class="kw">else </span>{
        <span class="kw">return </span><span class="prelude-val">None</span>;
    };
    <span class="comment">// find the beginning of the next ## Version
    </span><span class="kw">let </span><span class="prelude-val">Some</span>(pos_end_data) =
        <span class="kw">crate</span>::find_pos_end_data_before_delimiter(<span class="kw-2">&</span>release_md, pos_start_data, <span class=
"string">"## Version "</span>)
    <span class="kw">else </span>{
        <span class="kw">return </span><span class="prelude-val">None</span>;
    };
    <span class="kw">let </span>body_md_text = release_md[pos_start_data..pos_end_data - <span class="number">1</span>].to_string();

    <span class="comment">// create a new Version title after ## Unreleased in RELEASES.md
    </span><span class="kw">let </span>new_release_md = <span class="macro">format!</span>(
        <span class="string">"{}\n## {}\n{}"</span>,
        <span class="kw-2">&</span>release_md[..pos_start_data],
        <span class="kw-2">&</span>release_name,
        <span class="kw-2">&</span>release_md[pos_start_data..]
    );
    std::fs::write(RELEASES_MD, new_release_md).unwrap();
    <span class="comment">// return
    </span><span class="prelude-val">Some</span>(body_md_text)
}

<span class="doccomment">/// the UTC date in iso standard 2024-12-31
</span><span class="kw">pub fn </span>now_utc_date_iso() -&gt; String {
    chrono::Utc::now().format(<span class="string">"%Y-%m-%d"</span>).to_string()
}
</code></pre>
      </div>
    </section>
  </main>
</body>
</html>
