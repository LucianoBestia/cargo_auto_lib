<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Find md files. Search for marker (auto_plantuml start) and (auto_plantuml end). This markers around the plantuml code define that we want a svg file. If there are no markers, the plantuml will not be processed."><title>cargo_auto_lib::auto_plantuml_mod - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-fa3bb1812debf86c.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="cargo_auto_lib" data-themes="" data-resource-suffix="" data-rustdoc-version="1.74.1 (a28077b28 2023-12-04)" data-channel="1.74.1" data-search-js="search-8be46b629f5f14a8.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="../../static.files/main-c5bd66d33317d69f.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../cargo_auto_lib/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a></nav><nav class="sidebar"><a class="logo-container" href="../../cargo_auto_lib/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module auto_plantuml_mod</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press â€˜Sâ€™ to search, â€˜?â€™ for more optionsâ€¦" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">cargo_auto_lib</a>::<wbr><a class="mod" href="#">auto_plantuml_mod</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/cargo_auto_lib/auto_plantuml_mod.rs.html#3-310">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Find md files.
Search for marker (auto_plantuml start) and (auto_plantuml end).
This markers around the plantuml code define that we want a svg file.
If there are no markers, the plantuml will not be processed.</p>
<ol>
<li></li>
</ol>
<div class="example-wrap"><pre class="language-plantuml"><code>@startuml
[Bob] ..&gt; [Alice]
@enduml
</code></pre></div>
<p><img src="images/svg_534231.svg" alt="svg_534231" /></p>
<ol start="2">
<li></li>
</ol>
<p>Between the last triple backtick and the end marker is the processed svg file.
Calculate a short hash from the plantuml code.
If the name of the svg file contains this hash code it means, we already have the correct svg file.
Else we have to delete the old svg file and get a new one from the modified plantuml code.
Call the plantuml.com server with the plantuml code and saves the result svg file in folder images/.
Add the hash code to the filename.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.REGEX_IMG_LINK.html" title="struct cargo_auto_lib::auto_plantuml_mod::REGEX_IMG_LINK">REGEX_IMG_LINK</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="struct" href="struct.REGEX_PLANTUML_END.html" title="struct cargo_auto_lib::auto_plantuml_mod::REGEX_PLANTUML_END">REGEX_PLANTUML_END</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="struct" href="struct.REGEX_PLANTUML_START.html" title="struct cargo_auto_lib::auto_plantuml_mod::REGEX_PLANTUML_START">REGEX_PLANTUML_START</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.auto_plantuml.html" title="fn cargo_auto_lib::auto_plantuml_mod::auto_plantuml">auto_plantuml</a></div><div class="desc docblock-short">process plantuml in current directory
finds markers (auto_plantuml start) and (auto_plantuml end) in md files
if needed calls the web service and saves the svg file
Between markers adds the link to the svg file
repo_url like <a href="https://github.com/bestia-dev/sey_currency_converter_pwa">https://github.com/bestia-dev/sey_currency_converter_pwa</a>
so the image file link is from the repository and accessible everywhere</div></li><li><div class="item-name"><a class="fn" href="fn.auto_plantuml_for_path.html" title="fn cargo_auto_lib::auto_plantuml_mod::auto_plantuml_for_path">auto_plantuml_for_path</a></div><div class="desc docblock-short">process plantuml for all md files
for test and examples I need to provide the path</div></li><li><div class="item-name"><a class="fn" href="fn.compress_plant_uml_code.html" title="fn cargo_auto_lib::auto_plantuml_mod::compress_plant_uml_code">compress_plant_uml_code</a></div><div class="desc docblock-short">deflate and strange base64, that is Url_safe</div></li><li><div class="item-name"><a class="fn" href="fn.get_svg.html" title="fn cargo_auto_lib::auto_plantuml_mod::get_svg">get_svg</a></div></li><li><div class="item-name"><a class="fn" href="fn.hash_for_filename.html" title="fn cargo_auto_lib::auto_plantuml_mod::hash_for_filename">hash_for_filename</a></div></li></ul></section></div></main></body></html>