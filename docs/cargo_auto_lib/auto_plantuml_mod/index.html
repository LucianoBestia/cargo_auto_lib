<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Find md files. Search for marker (auto_plantuml start) and (auto_plantuml end). This markers around the plantuml code define that we want a svg file. If there are no markers, the plantuml will not be processed."><meta name="keywords" content="rust, rustlang, rust-lang, auto_plantuml_mod"><title>cargo_auto_lib::auto_plantuml_mod - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../cargo_auto_lib/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../cargo_auto_lib/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Module auto_plantuml_mod</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li></ul></div></section><div id="sidebar-vars" data-name="auto_plantuml_mod" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../cargo_auto_lib/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Module <a href="../index.html">cargo_auto_lib</a>::<wbr><a class="mod" href="#">auto_plantuml_mod</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/cargo_auto_lib/auto_plantuml_mod.rs.html#3-286">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Find md files.
Search for marker (auto_plantuml start) and (auto_plantuml end).
This markers around the plantuml code define that we want a svg file.
If there are no markers, the plantuml will not be processed.</p>
<ol>
<li></li>
</ol>
<div class="example-wrap"><pre class="language-plantuml"><code>@startuml
[Bob] ..&gt; [Alice]
@enduml</code></pre></div>
<p><img src="images/svg_534231.svg" alt="svg_534231" /></p>
<ol start="2">
<li></li>
</ol>
<p>Between the last triple backtick and the end marker is the processed svg file.
Calculate a short hash from the plantuml code.
If the name of the svg file contains this hash code it means, we already have the correct svg file.
Else we have to delete the old svg file and get a new one from the modified plantuml code.
Call the plantuml.com server with the plantuml code and saves the result svg file in folder images/.
Add the hash code to the filename.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.REGEX_IMG_LINK.html" title="cargo_auto_lib::auto_plantuml_mod::REGEX_IMG_LINK struct">REGEX_IMG_LINK</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.REGEX_PLANTUML_END.html" title="cargo_auto_lib::auto_plantuml_mod::REGEX_PLANTUML_END struct">REGEX_PLANTUML_END</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.REGEX_PLANTUML_START.html" title="cargo_auto_lib::auto_plantuml_mod::REGEX_PLANTUML_START struct">REGEX_PLANTUML_START</a></div><div class="item-right docblock-short"></div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.auto_plantuml.html" title="cargo_auto_lib::auto_plantuml_mod::auto_plantuml fn">auto_plantuml</a></div><div class="item-right docblock-short"><p>process plantuml in current directory
finds markers (auto_plantuml start) and (auto_plantuml end) in md files
if needed calls the web service and saves the svg file
Between markers adds the link to the svg file</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.auto_plantuml_for_path.html" title="cargo_auto_lib::auto_plantuml_mod::auto_plantuml_for_path fn">auto_plantuml_for_path</a></div><div class="item-right docblock-short"><p>process plantuml for all md files
for test and examples I need to provide the path</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.compress_plant_uml_code.html" title="cargo_auto_lib::auto_plantuml_mod::compress_plant_uml_code fn">compress_plant_uml_code</a></div><div class="item-right docblock-short"><p>deflate and strange base64, that is Url_safe</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.get_svg.html" title="cargo_auto_lib::auto_plantuml_mod::get_svg fn">get_svg</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.hash_for_filename.html" title="cargo_auto_lib::auto_plantuml_mod::hash_for_filename fn">hash_for_filename</a></div><div class="item-right docblock-short"></div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="cargo_auto_lib" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0 (7737e0b5c 2022-04-04)" ></div>
</body></html>